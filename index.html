<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>O‘yinlar Sayti</title>
<style>
body { font-family: Arial; text-align: center; background: #f0f0f0; }
h1 { margin-top: 20px; }
button { padding: 10px 20px; margin: 10px; cursor: pointer; }
.game { display: none; margin-top: 20px; }
</style>
</head>
<body>

<h1>O‘yinlar Sayti</h1>

<button onclick="showGame('tic')">Tic-Tac-Toe</button>
<button onclick="showGame('snake')">Snake</button>
<button onclick="showGame('memory')">Memory Game</button>

<div id="tic" class="game">
    <h2>Tic-Tac-Toe</h2>
    <button onclick="startTicTacToe()">Boshlash</button>
    <div id="ticBoard"></div>
</div>

<div id="snake" class="game">
    <h2>Snake</h2>
    <button onclick="startSnake()">Boshlash</button>
    <canvas id="snakeCanvas" width="300" height="300" style="border:1px solid #000;"></canvas>
</div>

<div id="memory" class="game">
    <h2>Memory Game</h2>
    <button onclick="startMemory()">Boshlash</button>
    <div id="memoryBoard"></div>
</div>

<script>
function showGame(game) {
    document.querySelectorAll('.game').forEach(g => g.style.display = 'none');
    document.getElementById(game).style.display = 'block';
}

function startTicTacToe() {
    const board = document.getElementById('ticBoard');
    board.innerHTML = '';
    let turn = 'X';
    for (let i = 0; i < 9; i++) {
        let cell = document.createElement('button');
        cell.style.width = '60px'; cell.style.height = '60px'; cell.style.fontSize = '24px';
        cell.onclick = () => {
            if (!cell.textContent) {
                cell.textContent = turn;
                turn = (turn === 'X') ? 'O' : 'X';
            }
        };
        board.appendChild(cell);
        if ((i+1)%3===0) board.appendChild(document.createElement('br'));
    }
}

let snakeInterval;
function startSnake() {
    clearInterval(snakeInterval);
    const canvas = document.getElementById('snakeCanvas');
    const ctx = canvas.getContext('2d');
    const box = 20;
    let snake = [{x: 8*box, y: 8*box}];
    let food = {x: Math.floor(Math.random()*15)*box, y: Math.floor(Math.random()*15)*box};
    let dx = box; let dy = 0;
    document.onkeydown = e => {
        if(e.key==='ArrowUp'){dx=0; dy=-box;}
        if(e.key==='ArrowDown'){dx=0; dy=box;}
        if(e.key==='ArrowLeft'){dx=-box; dy=0;}
        if(e.key==='ArrowRight'){dx=box; dy=0;}
    };
    function draw() {
        ctx.fillStyle = 'white'; ctx.fillRect(0,0,300,300);
        snake.forEach(s => { ctx.fillStyle='green'; ctx.fillRect(s.x,s.y,box,box); });
        ctx.fillStyle='red'; ctx.fillRect(food.x,food.y,box,box);
        let head = {x: snake[0].x + dx, y: snake[0].y + dy};
        if(head.x<0 || head.y<0 || head.x>=300 || head.y>=300 || snake.some(s=>s.x===head.x && s.y===head.y)){
            clearInterval(snakeInterval); alert('O‘yin tugadi!'); return;
        }
        snake.unshift(head);
        if(head.x===food.x && head.y===food.y){
            food = {x: Math.floor(Math.random()*15)*box, y: Math.floor(Math.random()*15)*box};
        } else { snake.pop(); }
    }
    snakeInterval = setInterval(draw, 200);
}

function startMemory() {
    const board = document.getElementById('memoryBoard');
    board.innerHTML = '';
    let cards = ['A','A','B','B','C','C','D','D'];
    cards.sort(() => 0.5 - Math.random());
    let first = null;
    cards.forEach((c, i) => {
        let card = document.createElement('button');
        card.textContent = '?';
        card.style.width='60px'; card.style.height='60px'; card.style.fontSize='24px'; card.style.margin='5px';
        card.onclick = () => {
            card.textContent = c;
            if (!first) { first = card; }
            else {
                if (first.textContent !== card.textContent) {
                    setTimeout(()=>{first.textContent='?'; card.textContent='?'; first=null;},500);
                } else { first=null; }
            }
        };
        board.appendChild(card);
    });
}
</script>

</body>
</html>
